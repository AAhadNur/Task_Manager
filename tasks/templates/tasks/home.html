{% extends 'tasks/base.html' %}

{% block title %}Task List{% endblock %}

{% block content %}
    <div class="container mx-auto p-4">
        <h2 class="text-2xl font-semibold">Task List</h2>

        <form method="get" class="mb-8">
            <div class="flex flex-wrap -mx-2">
                <div class="w-full md:w-3/4 px-2 mb-4 md:mb-0">
                    <label class="block text-gray-700 font-semibold mb-2" for="search">Search by Title/Description:</label>
                    <div class="relative">
                        <input type="text" class="w-full border rounded-md py-2 px-3 focus:outline-none focus:border-orange-500" id="search" name="search" value="{{ request.GET.search }}">
                    </div>
                </div>
                <div class="w-full md:w-1/4 px-2 mb-4 md:mb-0 flex items-end justify-end">
                    <button type="submit" class="bg-orange-500 text-white py-2 px-4 rounded-md hover:bg-orange-600 focus:outline-none">Apply Filters</button>
                </div>
            </div>

            <div class="flex flex-wrap -mx-2">
                <div class="w-full md:w-1/4 px-2 mb-4 md:mb-0">
                    <label class="block text-gray-700 font-semibold mb-2" for="created_at">Creation Date:</label>
                    <div class="relative">
                        <select id="created_at" name="created_at" class="w-full border rounded-md py-2 px-3 focus:outline-none focus:border-orange-500">
                            <option value="">All</option>
                            <option value="today">Today</option>
                            <option value="previous_day">Previous Day</option>
                            <option value="last_7_days">Last Week</option>
                            <option value="last_month">Last Month</option>
                        </select>
                    </div>
                </div>

                <div class="w-full md:w-1/4 px-2 mb-4 md:mb-0">
                    <label class="block text-gray-700 font-semibold mb-2" for="due_date">Due Date:</label>
                    <div class="relative">
                        <select id="due_date" name="due_date" class="w-full border rounded-md py-2 px-3 focus:outline-none focus:border-orange-500">
                            <option value="">All</option>
                            <option value="next_day">Next Day</option>
                            <option value="next_3_day">Next 3 Days</option>
                            <option value="next_7_day">Next Week</option>
                            <option value="next_30_day">Next Month</option>
                        </select>
                    </div>
                </div>

                <div class="w-full md:w-1/4 px-2 mb-4 md:mb-0">
                    <label class="block text-gray-700 font-semibold mb-2" for="priority">Priority:</label>
                    <div class="relative">
                        <select id="priority" name="priority" class="w-full border rounded-md py-2 px-3 focus:outline-none focus:border-orange-500">
                            <option value="">All</option>
                            <option value="low">Low</option>
                            <option value="medium">Medium</option>
                            <option value="high">High</option>
                        </select>
                    </div>
                </div>

                <div class="w-full md:w-1/4 px-2 mb-4 md:mb-0">
                    <label class="block text-gray-700 font-semibold mb-2" for="is_complete">Completion Status:</label>
                    <div class="relative">
                        <select id="is_complete" name="is_complete" class="w-full border rounded-md py-2 px-3 focus:outline-none focus:border-orange-500">
                            <option value="">All</option>
                            <option value="true">Complete</option>
                            <option value="false">Incomplete</option>
                        </select>
                    </div>
                </div>
            </div>
        </form>

        {% include 'tasks/task_component.html' %}
    </div>
{% endblock %}
