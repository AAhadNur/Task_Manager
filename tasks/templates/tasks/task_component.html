<div class="mt-3">
    <table class="min-w-full border-collapse border border-gray-300">
        <thead>
            <tr>
                <th class="border border-gray-300 px-4 py-2">Title</th>
                <th class="border border-gray-300 px-4 py-2">Project</th>
                <th class="border border-gray-300 px-4 py-2">Created By</th>
                <th class="border border-gray-300 px-4 py-2">Due Date</th>
                <th class="border border-gray-300 px-4 py-2">Priority</th>
                <th class="border border-gray-300 px-4 py-2">Complete</th>
                <th class="border border-gray-300 px-4 py-2">Actions</th>
            </tr>
        </thead>

        <tbody>
            {% if request.user.is_authenticated %}
            <a href="#" class="block my-2 text-blue-500 hover:underline">Create a new task</a>
            {% endif %}

            {% for task in tasks %}
            <tr>
                <td class="border border-gray-300 px-4 py-2">{{ task.title }}</td>
                <td class="border border-gray-300 px-4 py-2">
                    <a href="#" class="text-blue-500 hover:underline">{{ task.project }}</a>
                </td>
                <td class="border border-gray-300 px-4 py-2">
                    <a href="{% url 'profile' task.created_by.id %}" class="text-blue-500 hover:underline">{{ task.created_by|upper }}</a>
                </td>
                <td class="border border-gray-300 px-4 py-2">{{ task.due_date|date }}</td>
                <td class="border border-gray-300 px-4 py-2">{{ task.priority }}</td>
                <td class="border border-gray-300 px-4 py-2">{% if task.is_complete %}Yes{% else %}No{% endif %}</td>
                <td class="border border-gray-300 px-4 py-2">
                    <a href="#" class="bg-blue-500 text-white px-2 py-1 rounded hover:bg-blue-600">View</a>
                    {% if task.created_by == request.user %}
                    <a href="#" class="bg-yellow-500 text-white px-2 py-1 rounded hover:bg-yellow-600">Edit</a>
                    <a href="#" class="bg-red-500 text-white px-2 py-1 rounded hover:bg-red-600">Delete</a>
                    {% endif %}
                </td>
            </tr>
            {% empty %}
            <tr>
                <td class="border border-gray-300 px-4 py-2" colspan="7">No tasks found.</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>

    <div class="mt-4 flex items-center justify-between">
        <div>
            {% if tasks.has_previous %}
                <a href="?page=1" class="text-blue-500 hover:underline">First</a>
                <a href="?page={{ tasks.previous_page_number }}" class="text-blue-500 hover:underline">Previous</a>
            {% endif %}

            <span class="text-gray-600 ml-2">Page {{ tasks.number }} of {{ tasks.paginator.num_pages }}.</span>

            {% if tasks.has_next %}
                <a href="?page={{ tasks.next_page_number }}" class="text-blue-500 hover:underline">Next</a>
                <a href="?page={{ tasks.paginator.num_pages }}" class="text-blue-500 hover:underline">Last</a>
            {% endif %}
        </div>
    </div>
</div>
